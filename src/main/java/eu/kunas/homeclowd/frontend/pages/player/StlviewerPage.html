<!DOCTYPE html>
<html xmlns:wicket="http://wicket.apache.org">
<body>
<wicket:head>
    <title>HOMECLOWD - STL Viewer</title>

    <script src="threejs/Three.js"></script>
    <script src="threejs/plane.js"></script>
    <script src="threejs/thingiview.js"></script>

    <script>
        window.onload = function () {

            thingiurlbase = "threejs";
            thingiview = new Thingiview("viewer");
            thingiview.setObjectColor('#C0D8F0');
            thingiview.initScene();
            // thingiview.setShowPlane(true);
            thingiview.loadSTL("../stl?stlfile=" + getUrlVars()["stlfile"]);

            function getUrlVars() {
                var vars = {};
                var parts = window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi, function (m, key, value) {
                    vars[key] = value;
                });
                return vars;
            }
        }
    </script>
</wicket:head>
<wicket:extend>
    <div class="row">
        <div class="col-md-6">
            <div id="viewer" style="width:100%;height:400px"></div>
        </div>
        <div class="col-md-6">
            <h4 wicket:id="filename"></h4>
            <input wicket:id="downloadButton" style="margin: 0 auto;margin-bottom:50px" type="button" class="btn btn-small btn-primary btn-custom"
                   value="Download"/>
        </div>
    </div>
    <div class="row">

        <div class="col-md-1">
            <p>Camera</p>
            <input type="button" class="btn btn-small btn-primary btn-custom"
                   value="Top" onclick="thingiview.setCameraView('top');"/>
            <input type="button" class="btn btn-small btn-primary btn-custom"
                   value="Bottom" onclick="thingiview.setCameraView('bottom');"/>
        </div>

        <div class="col-md-1">
            <p>Camera</p>
            <input type="button" class="btn btn-small btn-primary btn-custom"
                   value="Side" onclick="thingiview.setCameraView('side');"/>
            <input type="button" class="btn btn-small btn-primary btn-custom"
                   value="Diagonal" onclick="thingiview.setCameraView('diagonal');"/>

        </div>

        <div class="col-md-1">
            <p>Zoom</p>
            <input type="button" class="btn btn-small btn-primary btn-custom"
                   value="Zoom +" onclick="thingiview.setCameraZoom(2);"/>
            <input type="button" class="btn btn-small btn-primary btn-custom"
                   value="Zoom -" onclick="thingiview.setCameraZoom(-2);"/>

        </div>

        <div class="col-md-1">
            <p>Rotation</p>
            <input type="button" class="btn btn-small btn-primary btn-custom"
                   value="Off" onclick="thingiview.setRotation(false);"/>
            <input type="button" class="btn btn-small btn-primary btn-custom"
                   value="On" onclick="thingiview.setRotation(true);"/>
        </div>

        <div class="col-md-1">
            <p>Material</p>
            <input type="button" class="btn btn-small btn-primary btn-custom"
                   value="Wireframe" onclick="thingiview.setObjectMaterial('wireframe');"/>
            <input type="button" class="btn btn-small btn-primary btn-custom"
                   value="Solid" onclick="thingiview.setObjectMaterial('solid');"/>
        </div>

        <div class="col-md-1">
            <p>Color</p>
            <input type="button" class="btn btn-small btn-primary btn-custom"
                   value="Green" onclick="thingiview.setObjectColor('#CDFECD')"/>
            <input type="button" class="btn btn-small btn-primary btn-custom"
                   value="Blue" onclick="thingiview.setObjectColor('#C0D8F0')"/>
        </div>

    </div>

</wicket:extend>
</body>
</html>
